## 数据库
 

1. 连接查询， 多张表连接到一起
> 分类 ： 内连接， 外连接， 自然连接和交叉
> 交    cross join   笛卡
> 内  inner join  两表 连接  匹配   （  忽略  不）
> 外  outer join  主表   一定 存在， 匹配  保留       置空
> 自然   ： natural  join  自动 匹配  同字段   using


### 外键
#### 定义
foreign key 外面的键， **如果一张表中有一个字段指向另外一张表的_ _，那么该字段为外键 **
#### 增加外键
1. 外键可以在创建表时或之后增加(考虑数据约束的问题????), 请举例, 后者不一定成立
2. 创建表时增加外键， 在所有字段后， 使用`foreign key(字段名) references _ _ `， **请解释MUL**
3. 外键要求字段本身是一个索引(普通索引)， **请说明不是索引会怎么办**  _ _  _ _ _  _ _, 最后才会创建外键本身
4. 在新增表之后增加外键， 修改表结构`Alter table 表名 add constraint 外键名字 foreign key() references()`， **查看外键怎么看？**
#### 删除&修改
外键不可修改， 只可删除后修改
1. 删除语法`Alter table  drop foreign key ___`, 一张表中有多个外键， 但名字不能相同...
2. 不可通过查看表结构查看删除， 查看定义来， **删除后现象， MUL, 和怎么查看删除掉了？ .  **
#### 外键作用
1. 对父表和子表起着约束作用  
2. 对子表， 增加和修改， 当父表中对应没有此数据字段时， 操作失败  
3. 对父表， 删除和修改， 当子表对应中有引用时， 操作失败      两个默认作用  
4. 外键约束有三种约束模式， 上述是默认作用， 可以定制操作, 都是对父表的  
   - district  严格(默认)  父表不能更新和删除子表中已经引用的记录  
   - cascade 级联模式， 父表的删除和更改操作， 对子表中引用的记录删除和更改  
   - set null  置空模式， 父表操作之后， 子表对应记录置为空  
   -  一个合理的做法(约束模式)， 删除子表的时候置空， 更新的时候子表级联操作  
   - `alter table add foreign key references on delete 模式 on update 模式`  
   - 删除置空的前提条件， 外键字段允许为空， 否则创建不了  
5. 外键虽然很强大， 但是降低了对数据可控性， 通常在实际开发， 很少使用外键来处理    

#### 外键条件
1. 外键要存在， 必须要保证表的存储引擎是innodb(默认)，如果不是， 则没有约束效果
2. 外键字段的字段类型， 必须和父表相同
3. 一张表的外键名字不能重复
4. 如果子表中有父表中不存在的对应关系， 则创建外键失败， 增加外键的字段， 必须保证和父表中主键对应



